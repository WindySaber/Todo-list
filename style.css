/* ===================================================== */
/* 基础重置与全局样式：消除默认样式，设置基础样式 */
/* ===================================================== */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box; /* 盒模型设置为border-box */
}

html {
    color: #000;
    display: grid;
    place-content: center; /* 内容居中显示 */
}

/* ===================================================== */
/* 主体容器样式：设置应用主容器 */
/* ===================================================== */
body {
    min-height: 100vh; /* 最小高度为视口高度 */
    max-width: 40rem; /* 最大宽度限制 */
    padding-left: 1rem;
    padding-right: 1rem;
    padding-bottom: 96px; /* 底部安全区域，避免内容被底部栏遮挡 */
    background: radial-gradient(at top left,  #FFDEE9 0%, #B5FFFC 100%); /* 背景渐变 */
}

/* ===================================================== */
/* 标题区域样式：应用标题的固定定位和样式 */
/* ===================================================== */
h1 {
    min-width: 30rem;
    position: sticky; /* 粘性定位，滚动时保持在顶部 */
    top: 0;
    display: flex;
    justify-content: center;
    margin: 0 auto;
    padding: 16px 24px;
    font-size: 1.5rem;
    letter-spacing: .1px;
    backdrop-filter: blur(12px); /* 毛玻璃效果 */
    border-radius: 0 0 var(--r-lg) var(--r-lg); /* 使用CSS变量定义圆角 */
    box-shadow: var(--z1); /* 使用CSS变量定义阴影 */
    z-index: 0;
}

/* ===================================================== */
/* 任务项样式：单个待办事项的样式 */
/* ===================================================== */
.lists {
    display: grid;
    gap: 12px; /* 任务项之间的间距 */
    padding: 24px 0; /* 上下内边距 */
}

.list {
    display: flex;
    font-size: 1.5rem;
    font-family:sans-serif;
    padding: 16px 20px;
    background: var(--surface); /* 使用主题变量 */
    border-radius: var(--r-md); /* 圆角大小 */
    box-shadow: var(--z1); /* 阴影效果 */
}

/* 任务文本样式 */
.text_read {
    flex: 1 1 0; /* 弹性布局，占据剩余空间 */
    overflow-wrap: break-word; /* 允许长单词换行 */
    padding-left: 1rem;
}

/* 复选框样式 */
.checkbox {
    height: 1.3rem;
    width: 1.3rem;
    accent-color: #333; /* 复选框选中颜色 */
    margin-top: 0.33rem;
}

/* 任务编辑输入框 */
.text_input {
    border:none;
    font-size: 1.5rem;
    width: 100%;
    padding: 0.2rem;
    margin-left: 0.3rem;
}

/* 优先级选择器样式 */
.priorBox {
    border: none;
}

/* 删除选择框样式 */
.deletebox {
    height: 1.22rem;
    width: 1.22rem;
    border-radius: 15px;
    margin-left: auto; /* 靠右对齐 */
}

/* ===================================================== */
/* 底部操作栏样式：固定底部的操作按钮区域 */
/* ===================================================== */
.foot {
    position: fixed;
    bottom: 0;
    right: 22rem; 
    display: flex;
    justify-content: space-evenly;
    left: 50%;
    transform: translateX(-50%); /* 水平居中 */
    gap: 20px; /* 按钮间距 */
    padding: 8px 16px;
    backdrop-filter: blur(20px); /* 背景模糊效果 */
    border-radius: var(--r-xl) var(--r-xl) 0 0; /* 顶部圆角 */
    box-shadow: var(--z2); /* 阴影效果 */
}

/* 通用按钮样式 */
.btn {
    width: 2.8rem;
    height: 2.8rem;
    border-radius: var(--r-lg); /* 圆角 */
    border: none;
}

/* 添加按钮样式 */
.add {
    background-color: orange;
}

/* 删除按钮样式 */
.delete {
    background-color: red;
}

/* 搜索按钮样式 */
.search {
    background-color: #000;
}

/* 按钮图标样式 */
.icon ,
.delete_icon {
    font-size: 24px;
    color: #fff;
}

/* ===================================================== */
/* 搜索区域样式：搜索功能容器 */
/* ===================================================== */
.searchbox{
    display: flex;
    justify-content: center;
    align-items: center;
    display: none; /* 默认隐藏 */
    gap: 12px; /* 内部元素间距 */
    padding: 12px 20px;
    background: var(--surface); /* 使用主题变量 */
    border-radius: var(--r-xl); /* 圆角 */
    box-shadow: var(--z1); /* 阴影 */
}

/* 搜索输入框样式 */
.search_box{
    width: 100%;
    border: none;
    background: transparent; /* 透明背景 */
    font-size: 1.2rem;
    color: var(--on-surface); /* 使用主题变量 */
    padding: 0.2rem;
}

/* 取消按钮样式 */
.quit {
    height: 2rem;
    width: 3rem;
    font-size: 1rem;
    border-radius: 5px;
    border: none;
    background: transparent;
    color: var(--primary); /* 使用主题变量 */
    font-weight: 500;
}

/* 搜索高亮样式 */
.hl {
    background-color: orange; /* 匹配文本高亮 */
}

/* ===================================================== */
/* 删除按钮样式：确认删除按钮 */
/* ===================================================== */
.deletebtn {
    height: 2.7rem;
    font-size: 1rem;
    position: fixed;
    bottom: 0.5rem;
    color: white;
    border: none;
    display: none; /* 默认隐藏 */
    background: rgb(0, 98, 255);
    border-radius: var(--r-md); /* 圆角 */
    right: 50%;
    transform: translateX(50%); /* 水平居中 */
    width: 50vw; /* 宽度为视口宽度50% */
    max-width: 280px; /* 最大宽度限制 */
}

/* ===================================================== */
/* 主题样式定义：明暗主题的CSS变量 */
/* ===================================================== */
:root {
    /* 白天模式变量 */
    --cl-text: #000; /* 文本颜色 */
    --on-surface: #1C1B1F; /* 表面元素上的文本颜色 */
    --z1: 0 1px 3px rgba(0,0,0,.15); /* 阴影层级1 */
    --z2: 0 2px 6px rgba(0,0,0,.18); /* 阴影层级2 */
    --z3: 0 4px 12px rgba(0,0,0,.22); /* 阴影层级3 */
    --r-md: 12px; /* 中等圆角 */
    --r-lg: 16px; /* 大圆角 */
    --r-xl: 28px; /* 超大圆角 */
    --primary: #6750A4; /* 主色调 */
    --surface: #FEFBFF; /* 表面颜色 */
    --shadow: rgba(0,0,0,.15); /* 阴影颜色 */
    transition: background .3s ease, color .3s ease; /* 颜色过渡效果 */
}

[data-theme="dark"] {
    /* 夜间模式变量 */
    --primary: #D0BCFF;
    --shadow: rgba(0,0,0,.35);
    --cl-text: #fff;
    --bg-gradient: radial-gradient(at top left,#3d2e4f 0%,#2c3e50 45%,#1a2329 100%); /* 背景渐变 */
    --surface: rgba(30, 28, 44, 0.6); /* 半透明表面 */
    --on-surface: #fff;
}

/* ===================================================== */
/* 主题相关元素样式：夜间模式下的特定样式 */
/* ===================================================== */
[data-theme="dark"] body {
    background: var(--bg-gradient);
    background-attachment: fixed; /* 固定背景，实现视差效果 */
    color: var(--on-surface);
}

[data-theme="dark"] .text_read,
[data-theme="dark"] .text_input {
    color: var(--cl-text);
    background-color: var(--bg-gradient);
}

[data-theme="dark"] .priorBox {
    background: transparent; /* 透明背景 */
}

/* ===================================================== */
/* 灯泡开关样式：主题切换按钮的视觉设计 */
/* ===================================================== */
.cord-bulb-switch{
    position:absolute;
    top:24px;
    right:24px;
    width:30px;
    height:48px;
    background:transparent;
    border:none;
    cursor:pointer; /* 手型光标 */
}

.cord-bulb{
    display:block;
    position:relative;
    height:100%;
}

/* 灯绳样式 */
.line{
    position:absolute;
    top:-2rem;
    left:50%;
    width:2px;
    height:38px;
    background:#777;
    transform:translateX(-50%); /* 水平居中 */
    transition:transform .15s; /* 过渡动画 */
  }

/* 灯泡样式 */
.bulb{
    position:absolute;
    bottom:0.8rem;
    left:50%;
    width:30px;
    height:30px;
    border-radius:50%; /* 圆形 */
    background:var(--surface); /* 使用主题变量 */
    transform:translateX(-50%); /* 水平居中 */
    transition:transform .15s, background .3s; /* 过渡动画 */
}

/* 白天模式灯泡颜色 */
[data-theme="light"] .bulb{
    background:#fff8e1;
}

/* 夜间模式灯泡颜色 */
[data-theme="dark"] .bulb{
    background:#424242;
}

/* 激活状态下的灯泡位置 */
.cord-bulb-switch.active .line,
.cord-bulb-switch.active .bulb{
    transform:translateX(-50%) translateY(4px); /* 下拉效果 */  
}

/* ===================================================== */
/* 交互效果增强：悬停和活动状态的视觉效果 */
/* ===================================================== */
.list:active {
    transform: scale(.98); /* 点击时缩小 */
    box-shadow: var(--z3); /* 加深阴影 */
}

.list:hover {
    transform: scale(1.01); /* 悬停时放大 */
    box-shadow: var(--z1); /* 添加阴影 */
}

.btn:hover {
    transform: translateY(-4px); /* 上浮效果 */
    box-shadow: var(--z3); /* 加深阴影 */
}

.btn::after {
    background: rgba(255,255,255,.35); /* 半透明背景 */
    transition: width .4s, height .4s, inset .4s; /* 平滑过渡 */
}

/* 输入框聚焦效果 */
input[type=text]:focus{
    outline: none;
    background-color: rgba(0, 0, 0,0.05); /* 轻微背景色变化 */
}

/* 按钮悬停效果 */
.add:hover {
    background-color: rgba(255, 165, 0,0.8); /* 半透明 */
}

.delete:hover {
    background-color: rgba(255, 0, 0,0.8);
}

.search:hover {
    background-color: rgba(0, 0, 0,0.8);
}

.deletebtn:hover {
    background-color: rgba(0, 98, 255, 0.9);
}

.quit:hover {
    color: hsl(258, 100%, 77%); /* 颜色变化 */
}

/* 夜间模式输入框悬停效果 */
[data-theme="dark"] .text_input:hover {
    background-color: var(--surface);
}

/* ===================================================== */
/* 响应式设计：适配不同屏幕尺寸 */
/* ===================================================== */
:root {
    --fz-base: clamp(1rem, 2vw, 1.125rem); /* 响应式字体大小 */
    --r-sm: 8px; /* 小圆角 */
}

/* 手机竖屏 (≤599px) */
@media (max-width: 599px) {
    /* 移动端特定样式调整 */
    h1 {
        min-width: 0;
        font-size: 1.25rem;
        padding: 12px 16px;
    }
    .list {
        font-size: var(--fz-base);
        padding: 12px 16px;
        border-radius: var(--r-sm);
    }
    .text_input {
        width: 100%;
        font-size: 1rem;
    }
    .deletebtn {
        right: 50%;
        transform: translateX(50%);
    }
    footer {
        left: 0;
        transform: none;
        width: 100%;
        height: 56px;
        padding: 8px;
        justify-content: center;
        gap: 12vw; /* 视口宽度百分比间距 */
    }
    .add, .delete, .search {
        width: 40px;
        height: 40px;
    }
    .searchbox {
        min-width: 0;
        width: 92vw; /* 视口宽度百分比 */                 
        margin: 0 auto;               
        padding: 10px 12px;
        gap: 8px;                     
    }
    .search_box {
        width: 100%;                  
        flex: 1 1 auto; /* 弹性填充 */
        font-size: 1rem;
    }
    .quit {
        width: auto;
        padding: 6px 10px;
        white-space: nowrap; /* 防止文字换行 */
    }
    .checkbox {
        width: 1.1rem;
        margin: 0;
    }
}

/* 平板/小屏横屏 (600-899px) */
@media (min-width: 600px) and (max-width: 899px) {
    /* 平板特定样式调整 */
    footer {
        bottom: 0;
        width: 80%;
        padding: .5rem var(1.3rem);
        background: transparent;
        box-shadow: 0 -2px 4px rgba(0, 0, 0, .08); /* 顶部阴影 */
    }
    .add,
    .delete,
    .search {
        width: var(2.5rem);
        height: var(2.5rem);
        border-radius: 50%; /* 圆形按钮 */
    }
    .text_input {
        width: 100%;
    }
}

/* 桌面/大屏 (900px以上) */
@media screen and (min-width: 900px) and (max-width: 1200px){ 
    /* 桌面端特定样式调整 */
    html {
        font-size: var(--fz-base)
    }
    body {
        max-width: 800px;      
        margin: 0 auto;
        padding-left: 1.5rem;
        padding-right: 1.5rem;
    }
    .text_input {
        width: 93%;          
    }
    footer {
        bottom: 0;
        width: 50%;
        padding: 0.5rem;
        background: transparent;
        box-shadow: 0 -2px 4px rgba(0, 0, 0, .08);
        gap: 0;
    }
    .line {
        height: 70px;
        top:-2rem;
    }
    .bulb {
        bottom:-0.3rem;
        width: 40px;
        height: 40px;
    }
}